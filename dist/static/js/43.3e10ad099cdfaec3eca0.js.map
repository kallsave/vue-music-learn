{"version":3,"sources":["webpack:///./src/pages/test/children/autosize/autosize.vue?7046","webpack:///./src/pages/test/children/autosize/calcTextareaHeight.js","webpack:///src/pages/test/children/autosize/autosize.vue","webpack:///./src/pages/test/children/autosize/autosize.vue?b6e3","webpack:///./src/pages/test/children/autosize/autosize.vue"],"names":["module","exports","auto-size","hiddenTextarea","HIDDEN_STYLE","CONTEXT_STYLE","calcTextareaHeight","targetElement","minRows","arguments","length","undefined","maxRows","document","createElement","body","appendChild","_calculateNodeStyling","style","window","getComputedStyle","boxSizing","getPropertyValue","paddingSize","parseFloat","borderSize","contextStyle","map","name","join","calculateNodeStyling","setAttribute","value","placeholder","height","scrollHeight","result","singleRowHeight","minHeight","Math","max","maxHeight","min","parentNode","removeChild","autosize","data","currentVal","textareaStyle","watch","handler","this","$nextTick","resizeTextarea","methods","handleInput","event","target","setCurrentValue","console","log","$refs","textarea","autosize_autosize","render","_vm","_h","$createElement","_c","_self","class","$style","directives","rawName","expression","ref","domProps","on","input","$event","composing","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/43.3e10ad099cdfaec3eca0.js","sourcesContent":["// removed by extract-text-webpack-plugin\nmodule.exports = {\"auto-size\":\"auto-size-g9xfy_0\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true,\"localIdentName\":\"[local]-[hash:base64:5]_0\",\"importLoaders\":true,\"modules\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-0044b0ac\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/test/children/autosize/autosize.vue\n// module id = SiXI\n// module chunks = 43","let hiddenTextarea\n\nconst HIDDEN_STYLE = `\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n`\n\nconst CONTEXT_STYLE = [\n  'letter-spacing',\n  'line-height',\n  'padding-top',\n  'padding-bottom',\n  'font-family',\n  'font-weight',\n  'font-size',\n  'text-rendering',\n  'text-transform',\n  'width',\n  'text-indent',\n  'padding-left',\n  'padding-right',\n  'border-width',\n  'box-sizing'\n]\n\nfunction calculateNodeStyling(targetElement) {\n  const style = window.getComputedStyle(targetElement)\n\n  const boxSizing = style.getPropertyValue('box-sizing')\n\n  const paddingSize = (\n    parseFloat(style.getPropertyValue('padding-bottom')) +\n    parseFloat(style.getPropertyValue('padding-top'))\n  )\n\n  const borderSize = (\n    parseFloat(style.getPropertyValue('border-bottom-width')) +\n    parseFloat(style.getPropertyValue('border-top-width'))\n  )\n\n  const contextStyle = CONTEXT_STYLE\n    .map(name => `${name}:${style.getPropertyValue(name)}`)\n    .join(';')\n\n  return { contextStyle, paddingSize, borderSize, boxSizing }\n}\n\nexport default function calcTextareaHeight(\n  targetElement,\n  minRows = 1,\n  maxRows = null\n) {\n  if (!hiddenTextarea) {\n    hiddenTextarea = document.createElement('textarea')\n    document.body.appendChild(hiddenTextarea)\n  }\n\n  let {\n    paddingSize,\n    borderSize,\n    boxSizing,\n    contextStyle\n  } = calculateNodeStyling(targetElement)\n\n  hiddenTextarea.setAttribute('style', `${contextStyle};${HIDDEN_STYLE}`)\n  hiddenTextarea.value = targetElement.value || targetElement.placeholder || ''\n\n  let height = hiddenTextarea.scrollHeight\n  const result = {}\n\n  if (boxSizing === 'border-box') {\n    height = height + borderSize\n  } else if (boxSizing === 'content-box') {\n    height = height - paddingSize\n  }\n\n  hiddenTextarea.value = ''\n  let singleRowHeight = hiddenTextarea.scrollHeight - paddingSize\n\n  if (minRows !== null) {\n    let minHeight = singleRowHeight * minRows\n    if (boxSizing === 'border-box') {\n      minHeight = minHeight + paddingSize + borderSize\n    }\n    height = Math.max(minHeight, height)\n    result.minHeight = `${minHeight}px`\n  }\n  if (maxRows !== null) {\n    let maxHeight = singleRowHeight * maxRows\n    if (boxSizing === 'border-box') {\n      maxHeight = maxHeight + paddingSize + borderSize\n    }\n    height = Math.min(maxHeight, height)\n  }\n  result.height = `${height}px`\n  hiddenTextarea.parentNode && hiddenTextarea.parentNode.removeChild(hiddenTextarea)\n  hiddenTextarea = null\n  return result\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/test/children/autosize/calcTextareaHeight.js","<template>\n  <div :class=\"$style['auto-size']\">\n    <textarea ref=\"textarea\"\n      :style=\"textareaStyle\"\n      v-model=\"currentVal\"\n      @input=\"handleInput\">\n    </textarea>\n  </div>\n</template>\n\n<script>\nimport calcTextareaHeight from './calcTextareaHeight'\n\nexport default {\n  data() {\n    return {\n      currentVal: '',\n      textareaStyle: {},\n      autosize: {\n        minRows: 2,\n        maxRows: 10\n      }\n    }\n  },\n  watch: {\n    currentVal: {\n      handler() {\n        this.$nextTick(this.resizeTextarea)\n      }\n    }\n  },\n  methods: {\n    handleInput(event) {\n      const value = event.target.value\n      this.setCurrentValue(value)\n      console.log(this.currentVal)\n    },\n    setCurrentValue(value) {\n      this.$nextTick(this.resizeTextarea)\n    },\n    resizeTextarea() {\n      const minRows = this.autosize.minRows\n      const maxRows = this.autosize.maxRows\n      this.textareaStyle = calcTextareaHeight(this.$refs.textarea, minRows)\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" module>\n.auto-size\n  height: 100vh\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/test/children/autosize/autosize.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.$style['auto-size']},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentVal),expression:\"currentVal\"}],ref:\"textarea\",style:(_vm.textareaStyle),domProps:{\"value\":(_vm.currentVal)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.currentVal=$event.target.value},_vm.handleInput]}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0044b0ac\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/test/children/autosize/autosize.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  this[\"$style\"] = require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true,\\\"localIdentName\\\":\\\"[local]-[hash:base64:5]_0\\\",\\\"importLoaders\\\":true,\\\"modules\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0044b0ac\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./autosize.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./autosize.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./autosize.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0044b0ac\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./autosize.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/test/children/autosize/autosize.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}