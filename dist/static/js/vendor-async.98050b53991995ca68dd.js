webpackJsonp([0],{"+wyn":function(t,e,s){"use strict";var n=s("Dd8w"),i=s.n(n),a="select",r={props:{songList:{type:Array,default:function(){return[]}},rank:{type:Boolean,default:!1}},methods:{selectItem:function(t,e,s){this.$emit.apply(this,[a].concat(Array.prototype.slice.call(arguments)))},getDesc:function(t){return t.singer+"·"+t.album},getRankCls:function(t){return t<=2?"icon icon"+t:"text"},getRankText:function(t){if(t>2)return t+1}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.$style["song-list"]},[s("ul",t._l(t.songList,function(e,n){return s("li",{key:n,staticClass:"song-list-item",on:{click:function(s){t.selectItem(s,e,n)}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.rank,expression:"rank"}],staticClass:"song-list-rank"},[s("span",{class:t.getRankCls(n),domProps:{textContent:t._s(t.getRankText(n))}})]),t._v(" "),s("div",{staticClass:"song-list-content"},[s("h2",{staticClass:"song-list-name"},[t._v(t._s(e.name))]),t._v(" "),s("p",{staticClass:"song-list-desc"},[t._v(t._s(t.getDesc(e)))])])])}),0)])},staticRenderFns:[]};var o=s("VU/8")(r,l,!1,function(t){this.$style=s("snxi")},null,null).exports,c=s("hAM6"),u=s("t7U9"),d=s("NYxO"),m=s("1VIM"),h=Object(u.c)("transform"),f=Object(u.c)("backdrop-filter"),g={components:{SongList:o},mixins:[c.a,m.a],props:{title:{type:String,default:""},bgImage:{type:String,default:""},songList:{type:Array,default:function(){return[]}},isFetchSongList:{type:Boolean,default:!1},rank:{type:Boolean,default:!1}},data:function(){return{scrollOptions:{probeType:3,click:!0},scrollY:0}},computed:i()({},Object(d.c)(["fullScreen"]),{bgStyle:function(){return"background-image:url("+this.bgImage+")"}}),watch:{scrollY:{handler:function(t){var e=Math.abs(t/this.imageHeight),s=1,n=0,i=0;t>0?s=1+e:(n=Math.min(10,10*e),i=Math.max(0,e-.2)),this.$refs.bgImage.style[h]="scale("+s+")",this.$refs.title.style.opacity=i,this.$refs.filter.style[f]="blur("+n+"px)"}},isFetchSongList:{handler:function(t){this.$refs.scroll.refresh()}}},created:function(){this.imageHeight=.7*document.body.clientWidth},mounted:function(){this.$refs.scrollBlank.style.height=this.imageHeight-40+"px"},methods:i()({},Object(d.d)({setRouterTransition:"SET_ROUTER_TRANSITION"}),Object(d.b)(["selectPlay","randomPlay"]),{handlePlayList:function(){this.$refs.stickyWrapper.style.paddingBottom="60px",this.$refs.scroll.refresh()},back:function(){this.$router.back()},scrollHandler:function(t){var e=t.y;this.scrollY=e,this.$refs.sticky.listenScrollY(-e)},stickyChange:function(t){this.$refs.bgImage.style.paddingTop=t.clientHeight+40+"px",this.$refs.bgImage.style.zIndex=5},stickyCancel:function(){this.$refs.bgImage.style.paddingTop="70%",this.$refs.bgImage.style.zIndex=0},selectItem:function(t,e,s){var n=this;this.throttle.run(function(){n.selectPlay({list:n.songList,index:s})})},random:function(t){this.$router.push("/test/scroll-popup/1")}})},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.$style.music},[s("div",{staticClass:"header"},[s("div",{staticClass:"back",on:{touchstart:t.back}},[s("i",{staticClass:"icon-back"})]),t._v(" "),s("h1",{ref:"title",staticClass:"title"},[t._v(t._s(t.title))])]),t._v(" "),s("div",{ref:"bgImage",staticClass:"bg-image",style:t.bgStyle},[s("div",{ref:"filter",staticClass:"filter"})]),t._v(" "),s("div",{ref:"stickyWrapper",staticClass:"sticky-wrapper"},[s("vi-native-sticky",{ref:"sticky",on:{"sticky-change":t.stickyChange,"sticky-cancel":t.stickyCancel}},[s("vi-scroll",{ref:"scroll",attrs:{data:[t.songList],options:t.scrollOptions,scrollEvents:["scroll"]},on:{scroll:t.scrollHandler}},[s("div",{ref:"scrollBlank",staticClass:"scroll-blank"},[t.isFetchSongList?s("vi-native-sticky-ele",[s("div",{staticClass:"play-wrapper"},[s("div",{ref:"playBtn",staticClass:"play",on:{click:function(e){t.random(e)}}},[s("i",{staticClass:"icon-play"}),t._v(" "),s("span",{staticClass:"text"},[t._v("随机播放全部")])])])]):t._e()],1),t._v(" "),s("div",{staticClass:"song-list-wrapper"},[s("song-list",{attrs:{rank:t.rank,"song-list":t.songList},on:{select:t.selectItem}})],1)])],1)],1)])},staticRenderFns:[]};var y=s("VU/8")(g,p,!1,function(t){this.$style=s("fshH")},null,null);e.a=y.exports},"9n/1":function(t,e,s){"use strict";e.b=i,s.d(e,"a",function(){return a});var n=44;function i(t){var e=this.ViScroll;t.y<-n?e.$disY!==-n&&(e.$disY=-n,e.scroll.refresh(),e.scroll.scrollTo(0,-n,0),e.scroll.disable()):t.y>=0&&e.$disY!==n&&(e.$disY=n,e.scroll.enable(),e.scroll.scrollTo(0,0,0))}var a={inject:["ViScroll"],methods:{scrollHandler:i}}},MdVR:function(t,e,s){"use strict";var n=s("Zrlr"),i=s.n(n);e.a=function t(e){var s=e.id,n=e.name;i()(this,t),this.id=s,this.name=n,this.avatar="https://y.gtimg.cn/music/photo_new/T001R300x300M000"+s+".jpg?max_age=2592000"}},fshH:function(t,e){t.exports={music:"music-Zu00u_0"}},hAM6:function(t,e,s){"use strict";var n=s("Dd8w"),i=s.n(n),a=s("NYxO"),r=(s("J9wY"),{data:function(){return{playerHeight:"60"}},computed:i()({},Object(a.c)(["playList","routerTransitionState"])),mounted:function(){this.playList.length&&this.handlePlayList()},activated:function(){var t=this;this.playList.length&&window.setTimeout(function(){t.handlePlayList()},350)},methods:{handlePlayList:function(){throw new Error("component must implement handlePlayList method")}}});e.a=r},m40h:function(t,e,s){"use strict";e.b=function(){var t=r()({},l.d,{platform:"yqq.json",hostUin:0,needNewCode:0,inCharset:"utf8",format:"json","-":"recom"+(Math.random()+"").replace("0.",""),data:{comm:{ct:24},category:{method:"get_hot_category",param:{qq:""},module:"music.web_category_svr"},recomPlaylist:{method:"get_hot_recommend",param:{async:1,cmd:2},module:"playlist.HotRecommendServer"},playlist:{method:"get_playlist_by_category",param:{id:8,curPage:1,size:40,order:5,titleid:8},module:"playlist.PlayListPlazaServer"},new_song:{module:"newsong.NewSongServer",method:"get_new_song_info",param:{type:5}},new_album:{module:"newalbum.NewAlbumServer",method:"get_new_album_info",param:{area:1,sin:0,num:10}},new_album_tag:{module:"newalbum.NewAlbumServer",method:"get_new_album_area",param:{}},toplist:{module:"musicToplist.ToplistInfoServer",method:"GetAll",param:{}},focus:{module:"QQMusic.MusichallServer",method:"GetFocus",param:{}}}});return u()({baseURL:d,url:"/cgi-bin/musicu.fcg",params:t}).then(function(t){return t.data})},e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={platform:"yqq",hostUin:0,sin:0,ein:29,sortId:5,needNewCode:0,categoryId:1e7,rnd:Math.random(),format:"json"},s=Object(o.e)({},l.d,e,t);return Object(l.c)(function(){return u()({baseURL:"/api",method:"get",url:"/splcloud/fcgi-bin/fcg_get_diss_by_tag.fcg",params:s}).then(function(t){var e=JSON.parse(t.data.replace(/^MusicJsonCallback\((.*)?\)/g,"$1"));return e})})},e.c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(o.e)({},l.d,{type:1,json:1,utf8:1,onlysong:0,platform:"yqq",hostUin:0,needNewCode:0},t);return Object(l.c)(function(){return u()({method:"get",url:"qzone/fcg-bin/fcg_ucc_getcdinfo_byids_cp.fcg",params:e}).then(function(t){return i.a.resolve(t.data)})})};var n=s("//Fk"),i=s.n(n),a=s("woOf"),r=s.n(a),l=s("T452"),o=s("BuZz"),c=s("mtWM"),u=s.n(c),d="https://c.y.qq.com"},snxi:function(t,e){t.exports={"song-list":"song-list-3hXcn_0"}}});