{"version":3,"sources":["webpack:///src/pages/detail/children/detail-singer/detail-singer.vue","webpack:///./src/pages/detail/children/detail-singer/detail-singer.vue?ff6d","webpack:///./src/pages/detail/children/detail-singer/detail-singer.vue","webpack:///./src/api/singer.js"],"names":["name","data","songList","isFetchSongList","mounted","this","_getSingerDetail","computed","extends_default","Object","vuex_esm","title","singer","bgImage","avatar","methods","_this","id","singermid","then","res","window","setTimeout","_normalizeSongList","list","$router","push","result","forEach","item","musicData","songid","albummid","strMediaMid","song","components","MusicList","music_list","detail_singer_detail_singer","render","_h","$createElement","_c","_self","attrs","is-fetch-song-list","song-list","bg-image","staticRenderFns","Component","__webpack_require__","normalizeComponent","detail_singer","__webpack_exports__","params","arguments","length","undefined","__WEBPACK_IMPORTED_MODULE_1__common_helpers_utils_js__","__WEBPACK_IMPORTED_MODULE_0__config__","channel","page","key","pagesize","pagenum","hostUin","needNewCode","platform","url","order","begin","num","songstatus"],"mappings":"oLAkBAA,KAAA,gBACAC,KAFA,WAGA,OACAC,YACAC,iBAAA,IAGAC,QARA,WASAC,KAAAC,oBAEAC,SAAAC,OACAC,OAAAC,EAAA,EAAAD,EACA,YAEAE,MAJA,WAKA,OAAAN,KAAAO,OAAAZ,MAEAa,QAPA,WAQA,OAAAR,KAAAO,OAAAE,UAGAC,SACAT,iBADA,WACA,IAAAU,EAAAX,KAEAA,KAAAO,OAAAK,IAIAZ,KAAAF,iBAAA,EACAM,OAAAG,EAAA,EAAAH,EACAS,UAAAb,KAAAO,OAAAK,KACAE,KAAA,SAAAC,GACAC,OAAAC,WAAA,WACAN,EAAAd,SAAAc,EAAAO,mBAAAH,EAAAnB,KAAAuB,MACAR,EAAAb,iBAAA,GACA,QAVAE,KAAAoB,QAAAC,KAAA,gBAaAH,mBAjBA,SAiBAC,GACA,IAAAG,KAOA,OANAH,EAAAI,QAAA,SAAAC,GAAA,IACAC,EAAAD,EAAAC,UACAA,EAAAC,QAAAD,EAAAE,UAAAF,EAAAG,aACAN,EAAAD,KAAAjB,OAAAyB,EAAA,EAAAzB,CAAAqB,MAGAH,IAGAQ,YACAC,UAAAC,EAAA,ICjEAC,GADiBC,OAFjB,WAA0B,IAAaC,EAAbnC,KAAaoC,eAA0BC,EAAvCrC,KAAuCsC,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,cAAwBE,OAAO5C,KAAA,WAAgB0C,EAAA,cAAmBE,OAAOC,qBAAxIxC,KAAwIF,gBAAA2C,YAAxIzC,KAAwIH,SAAA6C,WAAxI1C,KAAwIQ,QAAAF,MAAxIN,KAAwIM,UAA4G,IAE7PqC,oBCYjBC,EAdAC,EAAA,OAcAC,CACAC,EACAd,GATA,EAEA,KAEA,KAEA,MAUAe,EAAA,QAAAJ,EAAA,iDCZO,WAAoC,IAAbK,EAAaC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,MAYnCtD,EAAOQ,OAAAiD,EAAA,EAAAjD,IAAckD,EAAA,GATzBC,QAAS,SACTC,KAAM,OACNC,IAAK,cACLC,SAAU,IACVC,QAAS,EACTC,QAAS,EACTC,YAAa,EACbC,SAAU,OAE4Cb,GACxD,OAAO7C,OAAAkD,EAAA,EAAAlD,CAAW,WAChB,OAAOA,OAAAkD,EAAA,EAAAlD,EACL2D,IAdQ,uCAeRnE,gBAKC,WAAsC,IAAbqD,EAAaC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,MAWrCtD,EAAOQ,OAAAiD,EAAA,EAAAjD,IAAckD,EAAA,GARzBM,QAAS,EACTC,YAAa,EACbC,SAAU,MACVE,MAAO,SACPC,MAAO,EACPC,IAAK,GACLC,WAAY,GAE0ClB,GACxD,OAAO7C,OAAAkD,EAAA,EAAAlD,CAAW,WAChB,OAAOA,OAAAkD,EAAA,EAAAlD,EACL2D,IAbQ,2DAcRnE","file":"static/js/SingerDetail.d06ce44fd53fe0129d88.js","sourcesContent":["<template>\r\n  <transition name=\"slide\">\r\n    <music-list\r\n      :is-fetch-song-list=\"isFetchSongList\"\r\n      :song-list=\"songList\"\r\n      :bg-image=\"bgImage\"\r\n      :title=\"title\">\r\n    </music-list>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport MusicList from '../../components/music-list/music-list.vue'\r\nimport { mapGetters } from 'vuex'\r\nimport { getSingerDetail } from '@/api/singer.js'\r\nimport { createSong } from '@/common/class/song.js'\r\n\r\nexport default {\r\n  name: 'detail-singer',\r\n  data() {\r\n    return {\r\n      songList: [],\r\n      isFetchSongList: false\r\n    }\r\n  },\r\n  mounted() {\r\n    this._getSingerDetail()\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'singer',\r\n    ]),\r\n    title() {\r\n      return this.singer.name\r\n    },\r\n    bgImage() {\r\n      return this.singer.avatar\r\n    },\r\n  },\r\n  methods: {\r\n    _getSingerDetail() {\r\n      // store失效返回上层\r\n      if (!this.singer.id) {\r\n        this.$router.push('IndexSinger')\r\n        return\r\n      }\r\n      this.isFetchSongList = false\r\n      getSingerDetail({\r\n        singermid: this.singer.id\r\n      }).then((res) => {\r\n        window.setTimeout(() => {\r\n          this.songList = this._normalizeSongList(res.data.list)\r\n          this.isFetchSongList = true\r\n        }, 500)\r\n      })\r\n    },\r\n    _normalizeSongList(list) {\r\n      let result = []\r\n      list.forEach((item) => {\r\n        let { musicData } = item\r\n        if (musicData.songid && musicData.albummid && musicData.strMediaMid) {\r\n          result.push(createSong(musicData))\r\n        }\r\n      })\r\n      return result\r\n    }\r\n  },\r\n  components: {\r\n    MusicList\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/detail/children/detail-singer/detail-singer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('music-list',{attrs:{\"is-fetch-song-list\":_vm.isFetchSongList,\"song-list\":_vm.songList,\"bg-image\":_vm.bgImage,\"title\":_vm.title}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-38c7084c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/detail/children/detail-singer/detail-singer.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./detail-singer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./detail-singer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-38c7084c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./detail-singer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/detail/children/detail-singer/detail-singer.vue\n// module id = null\n// module chunks = ","import {\r\n  jsonp,\r\n  commonParams,\r\n  API_OK,\r\n  API_ERROR,\r\n  apiHandler,\r\n} from './config'\r\n\r\nimport { multiDeepClone } from '@/common/helpers/utils.js'\r\n\r\n// jsonp接口\r\nexport function getSingerList(params = {}) {\r\n  const url = 'https://c.y.qq.com/v8/fcg-bin/v8.fcg'\r\n  const defaultParams = {\r\n    channel: 'singer',\r\n    page: 'list',\r\n    key: 'all_all_all',\r\n    pagesize: 100,\r\n    pagenum: 1,\r\n    hostUin: 0,\r\n    needNewCode: 0,\r\n    platform: 'yqq'\r\n  }\r\n  const data = multiDeepClone({}, commonParams, defaultParams, params)\r\n  return apiHandler(() => {\r\n    return jsonp({\r\n      url,\r\n      data,\r\n    })\r\n  })\r\n}\r\n\r\nexport function getSingerDetail(params = {}) {\r\n  const url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg'\r\n  const defaultParams = {\r\n    hostUin: 0,\r\n    needNewCode: 0,\r\n    platform: 'yqq',\r\n    order: 'listen',\r\n    begin: 0,\r\n    num: 80,\r\n    songstatus: 1,\r\n  }\r\n  const data = multiDeepClone({}, commonParams, defaultParams, params)\r\n  return apiHandler(() => {\r\n    return jsonp({\r\n      url,\r\n      data,\r\n    })\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/singer.js"],"sourceRoot":""}